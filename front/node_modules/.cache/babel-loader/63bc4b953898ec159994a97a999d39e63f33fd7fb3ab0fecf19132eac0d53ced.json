{"ast":null,"code":"import _toConsumableArray from\"/Users/seongsuk/SSAP-IDE-FrontEnd/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/seongsuk/SSAP-IDE-FrontEnd/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Header from\"../../components/header/Header\";import axios from\"axios\";import\"./EditContainerPage.css\";import\"../../page/page.css\";import Name from\"../../components/form/Name\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditContainerPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"public\"),_useState6=_slicedToArray(_useState5,2),visibility=_useState6[0],setVisibility=_useState6[1];var _useState7=useState(\"Java\"),_useState8=_slicedToArray(_useState7,2),stack=_useState8[0],setStack=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),customControl=_useState10[0],setCustomControl=_useState10[1];var _useState11=useState([{containerId:\"0a6569d7-213a-49c9-bdc2-c728abaae3fc\"}// 추가 데이터를 필요한 만큼 넣어줍니다.\n]),_useState12=_slicedToArray(_useState11,2),posts=_useState12[0],setPosts=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),serverResponse=_useState14[0],setServerResponse=_useState14[1];var handleVisibilityChange=function handleVisibilityChange(e){setVisibility(e.target.value);};var handleStacksChange=function handleStacksChange(e){setStack(e.target.value);};var handleModulesChange=function handleModulesChange(e){var moduleName=e.target.value;if(e.target.checked){setCustomControl([].concat(_toConsumableArray(customControl),[moduleName]));}else{setCustomControl(customControl.filter(function(module){return module!==moduleName;}));}};var editPost=function editPost(index,updatedPostData){var updatedPosts=_toConsumableArray(posts);updatedPosts[index]=updatedPostData;setPosts(updatedPosts);var postIdToUpdate=posts[index].containerId;axios.patch(\"http://ide-env.eba-mhhgujuf.ap-northeast-2.elasticbeanstalk.com/containers/\".concat(postIdToUpdate),updatedPostData).then(function(response){console.log(\"게시물이 성공적으로 수정되었습니다.\");setServerResponse(\"게시물이 성공적으로 수정되었습니다.\");}).catch(function(error){console.error(\"게시물 수정 중 오류 발생:\",error);setServerResponse(\"게시물 수정 중 오류 발생\");});};var handleInputChange=function handleInputChange(e){var inputValue=e.target.value;var filteredValue=inputValue.replace(/[^A-Za-z0-9]/g,\"\");setTitle(filteredValue);};var handleInputChange2=function handleInputChange2(e){var inputValue=e.target.value;var filteredValue=inputValue.replace(/[^A-Za-z0-9]/g,\"\");setDescription(filteredValue);};var handleEditButtonClick=function handleEditButtonClick(){editPost(0,{description:description});};return/*#__PURE__*/_jsx(\"div\",{className:\"createCon\",children:/*#__PURE__*/_jsx(\"div\",{className:\"createCon-inner\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{icon:\"\\uCEE8\\uD14C\\uC774\\uB108 \\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Name,{containnername:title,handleEditButtonClick:handleEditButtonClick,description:description,name:\"\\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"editcontain\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"name-1\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rainbow\",children:\"rainbow\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-1\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC124\\uBA85(\\uC120\\uD0DD\\uC0AC\\uD56D)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:handleInputChange2,className:\"input-2\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-1\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uACF5\\uAC1C\\uBC94\\uC704\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ckeckbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"visibility\",value:\"public\",checked:visibility===\"public\",onChange:handleVisibilityChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Private\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-1\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC2A4\\uD0DD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ckeckbox1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"javaScript\",checked:stack===\"javaScript\",onChange:handleStacksChange}),/*#__PURE__*/_jsx(\"label\",{children:\"javaScript\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"add-pkg\",children:\"\\uCD94\\uAC00 \\uBAA8\\uB4C8/\\uD328\\uD0A4\\uC9C0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ckeckbox2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:\"MySQL\",checked:customControl.includes(\"MySQL\"),onChange:handleModulesChange}),/*#__PURE__*/_jsx(\"label\",{children:\"MySQL\"})]})]})})]})]})})});}","map":{"version":3,"names":["React","useState","Header","axios","Name","jsx","_jsx","jsxs","_jsxs","EditContainerPage","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","visibility","setVisibility","_useState7","_useState8","stack","setStack","_useState9","_useState10","customControl","setCustomControl","_useState11","containerId","_useState12","posts","setPosts","_useState13","_useState14","serverResponse","setServerResponse","handleVisibilityChange","e","target","value","handleStacksChange","handleModulesChange","moduleName","checked","concat","_toConsumableArray","filter","module","editPost","index","updatedPostData","updatedPosts","postIdToUpdate","patch","then","response","console","log","catch","error","handleInputChange","inputValue","filteredValue","replace","handleInputChange2","handleEditButtonClick","className","children","icon","containnername","name","type","onChange","includes"],"sources":["/Users/seongsuk/SSAP-IDE-FrontEnd/front/src/page/editcontainer/EditContainerPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Header from \"../../components/header/Header\";\nimport axios from \"axios\";\nimport \"./EditContainerPage.css\";\nimport \"../../page/page.css\";\nimport Name from \"../../components/form/Name\";\n\nexport default function EditContainerPage() {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [visibility, setVisibility] = useState(\"public\");\n  const [stack, setStack] = useState(\"Java\");\n  const [customControl, setCustomControl] = useState([]);\n  const [posts, setPosts] = useState([\n    {\n      containerId: \"0a6569d7-213a-49c9-bdc2-c728abaae3fc\",\n    },\n    // 추가 데이터를 필요한 만큼 넣어줍니다.\n  ]);\n\n  const [serverResponse, setServerResponse] = useState(null);\n\n  const handleVisibilityChange = (e) => {\n    setVisibility(e.target.value);\n  };\n\n  const handleStacksChange = (e) => {\n    setStack(e.target.value);\n  };\n\n  const handleModulesChange = (e) => {\n    const moduleName = e.target.value;\n    if (e.target.checked) {\n      setCustomControl([...customControl, moduleName]);\n    } else {\n      setCustomControl(customControl.filter((module) => module !== moduleName));\n    }\n  };\n\n  const editPost = (index, updatedPostData) => {\n    const updatedPosts = [...posts];\n    updatedPosts[index] = updatedPostData;\n    setPosts(updatedPosts);\n\n    const postIdToUpdate = posts[index].containerId;\n    axios\n      .patch(\n        `http://ide-env.eba-mhhgujuf.ap-northeast-2.elasticbeanstalk.com/containers/${postIdToUpdate}`,\n        updatedPostData,\n      )\n      .then((response) => {\n        console.log(\"게시물이 성공적으로 수정되었습니다.\");\n        setServerResponse(\"게시물이 성공적으로 수정되었습니다.\");\n      })\n      .catch((error) => {\n        console.error(\"게시물 수정 중 오류 발생:\", error);\n        setServerResponse(\"게시물 수정 중 오류 발생\");\n      });\n  };\n\n  const handleInputChange = (e) => {\n    const inputValue = e.target.value;\n    const filteredValue = inputValue.replace(/[^A-Za-z0-9]/g, \"\");\n    setTitle(filteredValue);\n  };\n\n  const handleInputChange2 = (e) => {\n    const inputValue = e.target.value;\n    const filteredValue = inputValue.replace(/[^A-Za-z0-9]/g, \"\");\n    setDescription(filteredValue);\n  };\n\n  const handleEditButtonClick = () => {\n    editPost(0, {\n      description,\n    });\n  };\n  return (\n    <div className=\"createCon\">\n      <div className=\"createCon-inner\">\n        <div>\n          <Header icon=\"컨테이너 수정하기\" />\n          <Name\n            containnername={title}\n            handleEditButtonClick={handleEditButtonClick}\n            description={description}\n            name=\"수정하기\"\n          />\n\n          <form className=\"editcontain\">\n            <div>\n              <div className=\"edit-1\">\n                <h3 className=\"name-1\">이름</h3>\n                <div className=\"rainbow\">rainbow</div>\n              </div>\n            </div>\n\n            <div>\n              <div className=\"edit-1\">\n                <h3>설명(선택사항)</h3>\n                <input\n                  type=\"text\"\n                  value={description}\n                  onChange={handleInputChange2}\n                  className=\"input-2\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"edit-1\">\n                <h3>공개범위</h3>\n                <div className=\"ckeckbox\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    value=\"public\"\n                    checked={visibility === \"public\"}\n                    onChange={handleVisibilityChange}\n                  />\n                  <label>Private</label>\n                </div>\n              </div>\n            </div>\n            <div>\n              <div className=\"edit-1\">\n                <h3>스택</h3>\n                <div className=\"ckeckbox1\">\n                  <input\n                    type=\"radio\"\n                    value=\"javaScript\"\n                    checked={stack === \"javaScript\"}\n                    onChange={handleStacksChange}\n                  />\n                  <label>javaScript</label>\n                </div>\n              </div>\n            </div>\n            <div>\n              <div className=\"edit-2\">\n                <h3 className=\"add-pkg\">추가 모듈/패키지</h3>\n                <div className=\"ckeckbox2\">\n                  <input\n                    type=\"checkbox\"\n                    value=\"MySQL\"\n                    checked={customControl.includes(\"MySQL\")}\n                    onChange={handleModulesChange}\n                  />\n                  <label>MySQL</label>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}