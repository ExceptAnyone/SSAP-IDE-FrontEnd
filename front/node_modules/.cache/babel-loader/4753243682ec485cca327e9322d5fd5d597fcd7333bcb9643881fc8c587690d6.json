{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Editor}from\"@monaco-editor/react\";import\"./CodeEditor.css\";import{useDispatch,useSelector}from\"react-redux\";import{setCurrentEditingFile,updateFileContent}from\"../fileSlice/FileSlice\";import{debounce}from\"lodash\";import{jsx as _jsx}from\"react/jsx-runtime\";function CodeEditor(){var editingFileContent=useSelector(function(state){return state.file.editingFileContent;});var editingFileId=useSelector(function(state){return state.file.editingFileId;});console.log(\"editingFileId :\",editingFileId);var entireState=useSelector(function(state){return state;});console.log(\"entireState\",entireState);var dispatch=useDispatch();useEffect(function(){console.log(\"editingFileId has changed to:\",editingFileId);},[editingFileId]);//TODO 추후 삭제\nvar debouncedUpdate=debounce(function(_ref){var id=_ref.id,content=_ref.content;console.log(\"Debounced id:\",id,\"content:\",content);dispatch(setCurrentEditingFile({id:id,content:content}));dispatch(updateFileContent({id:id,content:content}));},300);var handleEditorChange=function handleEditorChange(newValue){if(typeof newValue!==\"string\"){console.error(\"Invalid value type:\",newValue);return;}debouncedUpdate({id:editingFileId,content:newValue});};return/*#__PURE__*/_jsx(\"div\",{className:\"CodeEditor\",children:/*#__PURE__*/_jsx(\"div\",{className:\"editor-wrap\",children:/*#__PURE__*/_jsx(Editor,{height:\"90vh\"//TODO 사이즈조절\n,defaultLanguage:\"javascript\",defaultValue:\"// \\uCF54\\uB4DC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",theme:\"vs-dark\",value:editingFileContent||\"\",onChange:handleEditorChange,className:\"editor\"})})});}export default CodeEditor;","map":{"version":3,"names":["useEffect","useState","Editor","useDispatch","useSelector","setCurrentEditingFile","updateFileContent","debounce","jsx","_jsx","CodeEditor","editingFileContent","state","file","editingFileId","console","log","entireState","dispatch","debouncedUpdate","_ref","id","content","handleEditorChange","newValue","error","className","children","height","defaultLanguage","defaultValue","theme","value","onChange"],"sources":["/Users/seongsuk/SSAP-IDE-FrontEnd/front/src/components/ide/codeEditor/CodeEditor.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Editor } from \"@monaco-editor/react\";\nimport \"./CodeEditor.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  setCurrentEditingFile,\n  updateFileContent,\n} from \"../fileSlice/FileSlice\";\nimport { debounce } from \"lodash\";\n\nfunction CodeEditor() {\n  const editingFileContent = useSelector(\n    (state) => state.file.editingFileContent,\n  );\n  const editingFileId = useSelector((state) => state.file.editingFileId);\n  console.log(\"editingFileId :\", editingFileId);\n  const entireState = useSelector((state) => state);\n  console.log(\"entireState\", entireState);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    console.log(\"editingFileId has changed to:\", editingFileId);\n  }, [editingFileId]); //TODO 추후 삭제\n\n  const debouncedUpdate = debounce(({ id, content }) => {\n    console.log(\"Debounced id:\", id, \"content:\", content);\n    dispatch(setCurrentEditingFile({ id: id, content: content }));\n    dispatch(updateFileContent({ id: id, content: content }));\n  }, 300);\n\n  const handleEditorChange = (newValue) => {\n    if (typeof newValue !== \"string\") {\n      console.error(\"Invalid value type:\", newValue);\n      return;\n    }\n    debouncedUpdate({ id: editingFileId, content: newValue });\n  };\n\n  return (\n    <div className=\"CodeEditor\">\n      <div className=\"editor-wrap\">\n        <Editor\n          height=\"90vh\" //TODO 사이즈조절\n          defaultLanguage=\"javascript\"\n          defaultValue=\"// 코드를 입력해주세요\"\n          theme=\"vs-dark\"\n          value={editingFileContent || \"\"}\n          onChange={handleEditorChange}\n          className=\"editor\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default CodeEditor;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,MAAM,KAAQ,sBAAsB,CAC7C,MAAO,kBAAkB,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,qBAAqB,CACrBC,iBAAiB,KACZ,wBAAwB,CAC/B,OAASC,QAAQ,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,GAAM,CAAAC,kBAAkB,CAAGP,WAAW,CACpC,SAACQ,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACF,kBAAkB,EAC1C,CAAC,CACD,GAAM,CAAAG,aAAa,CAAGV,WAAW,CAAC,SAACQ,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACC,aAAa,GAAC,CACtEC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEF,aAAa,CAAC,CAC7C,GAAM,CAAAG,WAAW,CAAGb,WAAW,CAAC,SAACQ,KAAK,QAAK,CAAAA,KAAK,GAAC,CACjDG,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEC,WAAW,CAAC,CACvC,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9BH,SAAS,CAAC,UAAM,CACde,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAEF,aAAa,CAAC,CAC7D,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAAE;AAErB,GAAM,CAAAK,eAAe,CAAGZ,QAAQ,CAAC,SAAAa,IAAA,CAAqB,IAAlB,CAAAC,EAAE,CAAAD,IAAA,CAAFC,EAAE,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAC7CP,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEK,EAAE,CAAE,UAAU,CAAEC,OAAO,CAAC,CACrDJ,QAAQ,CAACb,qBAAqB,CAAC,CAAEgB,EAAE,CAAEA,EAAE,CAAEC,OAAO,CAAEA,OAAQ,CAAC,CAAC,CAAC,CAC7DJ,QAAQ,CAACZ,iBAAiB,CAAC,CAAEe,EAAE,CAAEA,EAAE,CAAEC,OAAO,CAAEA,OAAQ,CAAC,CAAC,CAAC,CAC3D,CAAC,CAAE,GAAG,CAAC,CAEP,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,QAAQ,CAAK,CACvC,GAAI,MAAO,CAAAA,QAAQ,GAAK,QAAQ,CAAE,CAChCT,OAAO,CAACU,KAAK,CAAC,qBAAqB,CAAED,QAAQ,CAAC,CAC9C,OACF,CACAL,eAAe,CAAC,CAAEE,EAAE,CAAEP,aAAa,CAAEQ,OAAO,CAAEE,QAAS,CAAC,CAAC,CAC3D,CAAC,CAED,mBACEf,IAAA,QAAKiB,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBlB,IAAA,QAAKiB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BlB,IAAA,CAACP,MAAM,EACL0B,MAAM,CAAC,MAAO;AAAA,CACdC,eAAe,CAAC,YAAY,CAC5BC,YAAY,CAAC,4DAAe,CAC5BC,KAAK,CAAC,SAAS,CACfC,KAAK,CAAErB,kBAAkB,EAAI,EAAG,CAChCsB,QAAQ,CAAEV,kBAAmB,CAC7BG,SAAS,CAAC,QAAQ,CACnB,CAAC,CACC,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAhB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}